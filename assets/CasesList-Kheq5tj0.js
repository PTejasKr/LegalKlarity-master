import{f as S,l as N,n as L,y as x,o as E,r as g,j as e,a as R,S as w,i as v,p as T,A as F}from"./index-rBsIGWOJ.js";import{P as D,S as q}from"./share-2-agbb8RVL.js";import{L as _}from"./loader-circle-BmdoeoE8.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],k=S("chevron-down",K);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],C=S("chevron-up",$),A={async searchCase(r){return(await N.post("/api/v1/cases/search-cases",{query:r})).data},async caseSummary(r){return(await N.post("/api/v1/cases/case-summary",{tid:r})).data}},z={caseSummary:null,caseTid:null,loading:!1,error:null},y=L("case/searchCase",async(r,{rejectWithValue:s})=>{try{return await A.searchCase(r)}catch(l){const i=l.response?.data?.message||"Summary failed";return x.error(i),s(i)}}),b=L("case/caseSummary",async(r,{rejectWithValue:s})=>{try{return await A.caseSummary(r)}catch(l){const i=l.response?.data?.message||"Case Summary failed";return x.error(i),s(i)}});E({name:"case",initialState:z,reducers:{},extraReducers:r=>{r.addCase(b.pending,s=>{s.loading=!0}).addCase(b.fulfilled,(s,l)=>{s.loading=!1,s.caseSummary=l.payload,s.error=null}).addCase(b.rejected,(s,l)=>{s.loading=!1,s.caseSummary=null,s.error=l.payload}).addCase(y.pending,s=>{s.loading=!0}).addCase(y.fulfilled,(s,l)=>{s.loading=!1,s.caseTid=l.payload,s.error=null}).addCase(y.rejected,(s,l)=>{s.loading=!1,s.caseTid=null,s.error=l.payload})}});function B({caseItem:r}){const[s,l]=g.useState({facts:!0,issues:!0,arguments:!0,reasoning:!0,decision:!0,principles:!0});if(!r)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading case details..."})]});const i=a=>Array.isArray(a)?a:typeof a=="string"?a.split(`
`).filter(n=>n.trim()!==""):a&&typeof a=="object"?Object.values(a):[],f=a=>{l(n=>({...n,[a]:!n[a]}))},o=(a,n,c)=>{const d=i(n);return(!n||Array.isArray(d)&&d.length===0)&&typeof n!="string"?null:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("button",{onClick:()=>f(c),className:"flex items-center justify-between w-full p-4 text-left bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),s[c]?e.jsx(C,{className:"h-5 w-5 text-gray-500"}):e.jsx(k,{className:"h-5 w-5 text-gray-500"})]}),s[c]&&e.jsx("div",{className:"p-4 border-t border-gray-200",children:typeof n=="string"?e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n}):d.length>0?e.jsx("ul",{className:"space-y-2",children:d.map((p,j)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 h-2 w-2 mt-2 rounded-full bg-primary-500 mr-3"}),e.jsx("span",{className:"text-gray-700",children:p})]},j))}):e.jsx("p",{className:"text-gray-500 italic",children:"No information available"})})]})},u=()=>{const a=i(r.arguments?.petitioner||[]),n=i(r.arguments?.respondent||[]);return a.length===0&&n.length===0?null:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("button",{onClick:()=>f("arguments"),className:"flex items-center justify-between w-full p-4 text-left bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Arguments"}),s.arguments?e.jsx(C,{className:"h-5 w-5 text-gray-500"}):e.jsx(k,{className:"h-5 w-5 text-gray-500"})]}),s.arguments&&e.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-6",children:[a.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3 border-l-4 border-blue-500 pl-2",children:"Petitioner's Arguments"}),e.jsx("ul",{className:"space-y-2",children:a.map((c,d)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 h-2 w-2 mt-2 rounded-full bg-blue-500 mr-3"}),e.jsx("span",{className:"text-gray-700",children:c})]},d))})]}),n.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3 border-l-4 border-red-500 pl-2",children:"Respondent's Arguments"}),e.jsx("ul",{className:"space-y-2",children:n.map((c,d)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 h-2 w-2 mt-2 rounded-full bg-red-500 mr-3"}),e.jsx("span",{className:"text-gray-700",children:c})]},d))})]})]})]})};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:r.caseTitle||"Case Title"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:r.court||"Court"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:r.citation||"Citation"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-4 md:mt-0",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Print"]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}),r.parties&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Parties Involved"}),e.jsx("p",{className:"text-blue-800",children:typeof r.parties=="string"?r.parties:`${r.parties?.petitioner||"Petitioner"} vs. ${r.parties?.respondent||"Respondent"}`})]})]}),e.jsxs("div",{className:"space-y-6",children:[o("Facts of the Case",r.facts,"facts"),o("Key Legal Issues",r.issues,"issues"),u(),o("Court's Reasoning",r.reasoning,"reasoning"),o("Final Decision",r.decision,"decision"),o("Legal Principles Established",r.principles,"principles")]}),e.jsx("div",{className:"mt-12 text-center text-sm text-gray-500",children:e.jsx("p",{children:"Case summary generated by LegalKlarity • Powered by IndianKanoon.org and AI analysis"})})]})}function O({loading:r,detailLoading:s}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:r?"Searching cases...":s?"Loading case summary...":"Processing..."})]})}function U(r){return r.replace(/<\/?b>/g,"")}const H=()=>{const r=R(),[s,l]=g.useState(""),[i,f]=g.useState([]),[o,u]=g.useState(!1),[a,n]=g.useState(null),[c,d]=g.useState(!1),p=async t=>{u(!0),n(null);const m=t||s;if(!m||m.trim()===""){u(!1),x.error("Please enter a search query.");return}try{const h=await r(y(m)).unwrap();h?.statusCode===200||h?.success===!0?(f(h.data),u(!1),x.success(h.message||"Search completed successfully!")):(x.error(h?.message||"Failed to fetch search results"),u(!1)),u(!1)}catch{u(!1),x.error("Error fetching search results.")}u(!1)},j=async t=>{d(!0);try{if(!t){x.error("Invalid case ID."),d(!1);return}const m=await r(b(t)).unwrap();m?.statusCode===200||m?.success===!0?(n(m.data),x.success(m.message||"Case summary fetched successfully!"),d(!1)):(x.error(m?.message||"Failed to fetch case summary"),d(!1))}catch{x.error("Error fetching case summary.")}finally{d(!1)}},P=t=>{t.key==="Enter"&&p()};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white shadow-sm dark:bg-slate-800 dark:shadow-slate-800",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-lg bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",children:e.jsx(w,{className:"h-6 w-6"})})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3 dark:text-white",children:"Legal Case Explorer"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto dark:text-slate-300",children:"Search and analyze landmark Indian legal cases with AI-powered summaries"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-200 dark:bg-slate-800 dark:border-slate-700",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400 dark:text-slate-500"})}),e.jsx("input",{value:s,onChange:t=>l(t.target.value),onKeyPress:P,placeholder:"Search by case title, citation, keywords, or legal topics...",className:"block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400"})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("button",{onClick:()=>p(),disabled:o,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-gradient-to-r from-primary-600 to-indigo-600 hover:from-primary-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 dark:from-primary-700 dark:to-indigo-700 dark:hover:from-primary-600 dark:hover:to-indigo-600 dark:focus:ring-offset-slate-900",children:o?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}),"Searching..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-5 w-5"}),"Search Cases"]})})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Examples: ",e.jsx("span",{className:"text-gray-700 dark:text-slate-300",children:"Article 15, Consumer Protection, Criminal Law, Constitutional Law"})]})})]})}),o||c?e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200 dark:bg-slate-800 dark:border-slate-700",children:e.jsx(O,{loading:o,detailLoading:c})}):a?e.jsx(B,{caseItem:a}):e.jsxs("div",{className:"space-y-6",children:[i.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 dark:bg-slate-800 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(T,{className:"h-5 w-5 text-blue-600 mr-2 dark:text-blue-400"}),e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Search Results (",i.length," cases found)"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(t=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-all duration-300 hover:border-primary-300 bg-white dark:bg-slate-700 dark:border-slate-600 dark:hover:border-primary-500 dark:hover:shadow-slate-800/50",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-2 dark:text-white",children:U(t.title)})}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:t.docsource}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-300",children:t.publishdate}),e.jsx("p",{className:"text-xs font-medium text-primary-600 dark:text-primary-400",children:t.citation})]}),e.jsxs("button",{onClick:()=>j(t.tid),disabled:c,className:"inline-flex items-center text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors dark:text-primary-400 dark:hover:text-primary-300",children:["View Summary",e.jsx(F,{className:"ml-1 h-4 w-4"})]})]},t.tid))})]}),i.length===0&&!o&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 border border-gray-200 text-center dark:bg-slate-800 dark:border-slate-700",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(w,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"mt-4 text-xl font-medium text-gray-900 dark:text-white",children:"Search Legal Cases"}),e.jsx("p",{className:"mt-2 text-gray-500 dark:text-slate-400",children:"Enter a legal topic, case name, or citation above to explore landmark Indian court decisions."}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:["Constitutional Law","Criminal Law","Civil Law","Corporate Law"].map(t=>e.jsx("button",{onClick:()=>p(t),className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:hover:bg-slate-600 dark:focus:ring-offset-slate-900",children:t},t))})})]})]})]})]})};export{H as default};
